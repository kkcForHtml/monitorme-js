!function(r){var e={};function t(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return r[o].call(n.exports,n,n.exports,t),n.l=!0,n.exports}t.m=r,t.c=e,t.d=function(r,e,o){t.o(r,e)||Object.defineProperty(r,e,{enumerable:!0,get:o})},t.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},t.t=function(r,e){if(1&e&&(r=t(r)),8&e)return r;if(4&e&&"object"==typeof r&&r&&r.__esModule)return r;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:r}),2&e&&"string"!=typeof r)for(var n in r)t.d(o,n,function(e){return r[e]}.bind(null,n));return o},t.n=function(r){var e=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(e,"a",e),e},t.o=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)},t.p="",t(t.s=0)}([function(r,e,t){(function(e){var o=t(2),n="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};if(!(i=n.betterJs)){var i;(i=new function(){}).init=function(r){var t=o.objectMerge({jsError:!0,resourceError:!0,ajaxError:!0,consoleError:!1,scriptError:!1,vue:!1,autoReport:!0,filters:[],levels:["info","warning","error"],category:["js","resource","ajax"]},r);t.scriptError||t.filters.push(function(){return/^Script error\.?$/.test(arguments[0])});var n=t.sendError;t.sendError=function(r,e,i,a,s){try{var l=t.filters.some(r=>o.isFunction(r)&&r.apply(this,arguments));if(l)return;if(n.apply(this,arguments),t.autoReport)return}catch(r){n({title:"betterJs",msg:r,category:"js"})}};var i="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},a=i.addEventListener||i.attachEvent;t.jsError&&o.handleWindowError(i,t),t.jsError&&o.handleRejectPromise(i,t),t.resourceError&&a&&o.handleResourceError(i,t),t.ajaxError&&o.handleAjaxError(i,t),t.consoleError&&o.handleConsoleError(i,t),t.vue&&o.handleVueError(i,t)}}n.betterJs=i,r.exports=i}).call(this,t(1))},function(r,e){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(r){"object"==typeof window&&(t=window)}r.exports=t},function(r,e){function t(r){return"function"==typeof r}r.exports={isFunction:t,objectMerge:function(r,e){return e?(function(r,e){var t,o,n,i;if(void 0===r.length)for(t in r)n=r,i=t,Object.prototype.hasOwnProperty.call(n,i)&&e.call(null,t,r[t]);else if(o=r.length)for(t=0;t<o;t++)e.call(null,t,r[t])}(e,function(e,t){r[e]=t}),r):r},handleWindowError:function(r,e){_oldWindowError=r.onerror,r.onerror=function(r,o,n,i,a){a&&a.stack?e.sendError({url:window.location.href,title:r,msg:a.stack,category:"js",level:"error"}):"string"==typeof r&&e.sendError({url:window.location.href,title:r,msg:JSON.stringify({resourceUrl:o,rowNum:n,colNum:i}),category:"js",level:"error"}),_oldWindowError&&t(_oldWindowError)&&windowError&&windowError.apply(window,arguments)}},handleRejectPromise:function(r,e){r.addEventListener("unhandledrejection",function(r){if(r){var t=r.reason;"object"==typeof t&&(t.msg=t.stack),e.sendError({url:window.location.href,title:"unhandledrejection",msg:t,category:"js",level:"error"})}},!0)},handleConsoleError:function(r,e){if(r.console&&r.console.error){var t=r.console.error;r.console.error=function(){e.sendError({url:window.location.href,title:"consoleError",msg:JSON.stringify(Array.prototype.slice.apply(arguments).join(",")),category:"js",level:"error"}),t&&t.apply(r,arguments)}}},handleResourceError:function(r,e){r.addEventListener("error",function(r){if(r){var t=r.target||r.srcElement;if(!(t instanceof HTMLScriptElement||t instanceof HTMLLinkElement||t instanceof HTMLImageElement))return;var o=t.src||t.href;e.sendError({url:window.location.href,title:t.nodeName,msg:o,category:"resource",level:"error"})}},!0)},handleAjaxError:function(r,e){if("file:"!==r.location.protocol&&(function(r,e){if(!r.fetch)return;let t=r.fetch;r.fetch=function(){return t.apply(this,arguments).then(r=>(r.ok||e.sendError({url:window.location.href,title:arguments[0],msg:JSON.stringify(r),category:"ajax",level:"error"}),r)).catch(r=>{throw e.sendError({url:window.location.href,title:arguments[0],msg:JSON.stringify({message:r.message,stack:r.stack}),category:"ajax",level:"error"}),r})}}(r,e),r.XMLHttpRequest)){var t=r.XMLHttpRequest,o=t.prototype.send,n=function(r){r&&r.currentTarget&&200!==r.currentTarget.status&&e.sendError({url:window.location.href,title:r.target.responseURL,msg:JSON.stringify({response:r.target.response,responseURL:r.target.responseURL,status:r.target.status,statusText:r.target.statusText}),category:"ajax",level:"error"})};t.prototype.send=function(){if(this.addEventListener)this.addEventListener("error",n),this.addEventListener("load",n),this.addEventListener("abort",n);else{var r=this.onreadystatechange;this.onreadystatechange=function(e){4===this.readyState&&n(e),r&&r.apply(this,arguments)}}return o.apply(this,arguments)}}},handleVueError:function(r,e){var o=r.Vue;if(o&&o.config){var n=o.config.errorHandler;Vue.config.errorHandler=function(r,o,i){var a={};"[object Object]"===Object.prototype.toString.call(o)&&(a.componentName=o._isVue?o.$options.name||o.$options._componentTag:o.name,a.propsData=o.$options.propsData);var s=r;"object"==typeof s&&(s.msg=s.stack),e.sendError({url:window.location.href,metaData:a,title:"vue Error",msg:s,url:o.$el.baseURI,info:i,category:"js",level:"error"}),n&&t(n)&&n.call(this,s,o,i)}}}}}]);